<html>
  <head>
    <title></title>
    <meta content="Fortune">
    <style></style>
    <script type="text/javascript" src="js/rpc.js"></script>
    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript">
    function fortune(form)
    {
    $('#progress') .html("Processing. Please Wait..");
    $('#result').html("");
    $('#errormessage').html("");
     var result = "Error while processing";
    var pattern= form.input_text.value;
    var collection = form.database.value;
    try {
    var service = new rpc.ServiceProxy("JSONRPC", {asynchronous:false});
        result = service.modules.Fortune.fortune(collection,pattern);
    }
    catch(err){
        $('#errormessage').html(err.message);
    }
     
    $('#progress').html("");
    // Render it
    $('#result') .html("<b>"+ result + "</b>");
    return false;
    }
    </script>

  </head>
  <body>
    <h2>Fortune Cookies (Random Quotes)</h2></hr>
        <p>Enter the text for getting a random quote with the given string in the below text area.
        </p>
        <form action="" method="post" onsubmit="return fortune(this); ">
        <p align='center'>
        Search word(optional)<input type="text" cols='100' name='input_text' id='input_text'  />
        Collection :<select id="database" name="dictionary" style="width:12em;">
          <option value="malayalam_proverbs">Proverbs - Malayalam</option>
          <option value="thirukkural">Thirukkural - Tamil and English</option>
          <option value="chanakya">Chanakya - English</option>
        </select>
        </p>
        <p align="center">
        <input  type="submit" id="Fortune" value="Get the quote"  name="action" style="width:12em;"/>
        </p>
        </br>
        </form>
        
  </body>
</html>
